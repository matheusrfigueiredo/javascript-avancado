<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Módulo 2 - Javascript Avançado</title>
</head>
<body>
    <script>
        // Type casting = Conversão pelo Usuário;
        // Type coersion = Conversão 'coercitiva' pela VM;
        
        // Conversões
        // string to number
        console.log(Number("2") + 2)
        console.log(Number(true)) // = 1
        console.log(Number(false)) // = 0
        //number to string
        console.log(String(2))

        // '30/04/2022' to Date

        // Date -> Formato ISO
        console.log(new Date('04/30/2022'))
        console.log(new Date('2022-04-30'))
        console.log(new Date('2022 04 30'))

        // transformar em string
        console.log(new Date().toString())
        console.log(new Date().toISOString())


        // String to Array
        // Uma string se comparta basicamente como um Array;
        let name = "Felipe"

        console.log(name)

        // Percorrendo com for
        for (const v of name){
            console.log(v)
        }

        // Mostrando tamanho da string
        console.log(name.length)

        let values = [1, 2, 3, 4, 5, 10, 20]

        values = ["M", "A", "T", "H", "E", "U", "S"]

        // Transformar um array para string, é possível informar o caractere que quer juntar.
        console.log(values.join())

        console.log(values.join(" "))

        // Separar String divididas em mais de uma palavra;
        // Ex..: Matheus Ribeiro
        console.log(name.split(",")) // Bom para trabalhar com CSV

        // -----------------------------------------------------------
        // CASAS DECIMAIS - FORMATAÇÃO E ARREDONDAMENTO

        // toFixed()
        // Math.ceil()
        // Math.floor()
        // Math.round()
        // new IntL.NumberFormat().format()

        let value = 1234.59

        console.log(value.toFixed(1))
        console.log(Math.ceil(value))
        console.log(Math.floor(value))
        console.log(Math.round(value))

        console.log(
            new Intl.NumberFormat("pt-BR", {
                style: "currency",
                currency: "BRL"
            }).format(value)
        )

        // Metódo antigo de Internacionalização de números.
        console.log(value.toFixed(2).replace(".", ","))
        //-------------------------------------------------
        // CONTANDOS DÍGITOS
        let num = 12345
        console.log(String(num.length))

        // ----------------------------------------------------

        // SEPARANDO E JUNTANDO STRINGS
        let frase = "Eu sou um cara Legal!"
        console.log(frase.split(" ").join("-"))

        //MAIÚSCULAS E MINÚSCULAS
        let poesia = "Viver é maravilhoso!"
        // Minúscula
        console.log(poesia.toLowerCase())
        // Maiúscula
        console.log(poesia.toUpperCase())
        
        // LOCALIZANDO STRINGS
        let cancao = "Só pro meu prazer!"

        // função que localiza caracteres includes()
        // É interessante que iguale todas as strings para minúsculo .toLowerCase e depois tente localizar.
        console.log(cancao.toLowerCase().includes('!'))

        //SUBSTITUINDO STRINGS
        console.log(cancao.replace("Só pro meu prazer!", "Só para o seu prazer!"))
        
        //CONVERTENDO JSON to OBJECT | OBJECT to JSON

        /**
         * JSON - Jvascript Object Notation
         * JSON.stringify()
         * JSON.parse()
         **/

        const people = [
            {
                id: 1,
                name: "Matheus",
                lastName: "Figueiredo",
                bornDate: new Date(1999, 11, 16),
                address: {
                    city: "São João de Meriti"
                }
            },
            {
                id: 2,
                name: "Marcos",
                lastName: "Figueiredo",
                bornDate: new Date(1973, 9, 4),
                address: {
                    city: "Rio de Janeiro"
                }
            },
            {
                id: 3,
                name: "Jorcelane",
                lastName: "Figueiredo",
                bornDate: new Date(1972, 6, 24),
                address: {
                    city: "São José de Ubá"
                }
            }
        ]

        console.log(JSON.stringify(people)) // Object to JSON / String
        
        const json = '[{"id":1,"name":"Matheus","lastName":"Figueiredo","bornDate":"1999-12-16T02:00:00.000Z","address":{"city":"São João de Meriti"}},{"id":2,"name":"Marcos","lastName":"Figueiredo","bornDate":"1973-10-04T03:00:00.000Z","address":{"city":"Rio de Janeiro"}},{"id":3,"name":"Jorcelane","lastName":"Figueiredo","bornDate":"1972-07-24T03:00:00.000Z","address":{"city":"São José de Ubá"}}]'
        console.log(JSON.parse(json))

    </script>
</body>
</html>